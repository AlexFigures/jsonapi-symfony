# üìã –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç: TDD-–ø–æ–¥—Ö–æ–¥ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º —Ç–µ—Å—Ç–∞–º JSON:API

**–î–∞—Ç–∞**: 2025-10-16  
**–¶–µ–ª—å**: –°–æ–∑–¥–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ –∂—ë—Å—Ç–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ JSON:API 1.1

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. **–ê—É–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ –í—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **—Ä–µ–∞–ª—å–Ω—ã–µ** —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–Ω–¥–ª–∞

- **–ù–∞–π–¥–µ–Ω–æ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤**: 1 (PSR-11 ContainerInterface - –¥–æ–ø—É—Å—Ç–∏–º–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ü–µ–ª–µ–π)
- **Mock-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –±–∞–Ω–¥–ª–∞**: 0 ‚úÖ
- **–¢–µ—Å—Ç–æ–≤ —Å —Ä–µ–∞–ª—å–Ω–æ–π PostgreSQL –ë–î**: 121 (100%) ‚úÖ

**–í—ã–≤–æ–¥**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å–ª–µ–¥—É—é—Ç best practices –∏ –Ω–µ —Å–∫—Ä—ã–≤–∞—é—Ç –±–∞–≥–∏ —á–µ—Ä–µ–∑ –ø–æ–¥–º–µ–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π.

---

### 2. **–°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü—ã –ø–æ–∫—Ä—ã—Ç–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π JSON:API**

**–§–∞–π–ª**: `reports/integration_test_coverage_matrix.md`

**–ò—Å—Ö–æ–¥–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: 52% (16/31 —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–µ–ª—ã**:
- Content Negotiation (A1-A5): 20%
- Query Parameters (H1-H4): 0%
- Error Objects (I1-I3): 0%

---

### 3. **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ (TDD-–ø–æ–¥—Ö–æ–¥)**

#### ‚úÖ **Content Negotiation (A1-A5)** - `ContentNegotiationIntegrationTest.php`

**–°–æ–∑–¥–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤**: 5  
**–°—Ç–∞—Ç—É—Å**: 2 ‚úÖ PASSING, 3 ‚ùå FAILING (–æ–∂–∏–¥–∞–µ–º–æ - –≤—ã—è–≤–ª—è—é—Ç –ø—Ä–æ–±–µ–ª—ã –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

| –¢–µ—Å—Ç | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|------|-----------|--------|------------|
| `testContentTypeWithUnsupportedParameterReturns415` | A1 | ‚ùå FAILING | –ë–∞–Ω–¥–ª –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Content-Type |
| `testContentTypeWithUnsupportedExtensionReturns415` | A2 | ‚è≠Ô∏è SKIPPED | –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ext –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ |
| `testAcceptHeaderWithUnsupportedParameterReturns406` | A3 | ‚ùå FAILING | –ë–∞–Ω–¥–ª –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Accept |
| `testAcceptHeaderWithUnsupportedExtensionReturns406` | A4 | ‚è≠Ô∏è SKIPPED | –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ext –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ |
| `testAcceptHeaderWithUnknownProfileIsIgnoredAndVaryHeaderSet` | A5 | ‚ùå FAILING | Vary header –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è |

**–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:
1. –ë–∞–Ω–¥–ª –Ω–µ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ–¥–∏–∞-—Ç–∏–ø–∞ (charset, version –∏ —Ç.–¥.)
2. Vary header –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π
3. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ext –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

---

#### ‚úÖ **Query Parameters (H1-H4)** - `QueryParameterValidationTest.php`

**–°–æ–∑–¥–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤**: 4  
**–°—Ç–∞—Ç—É—Å**: 3 ‚úÖ PASSING, 1 ‚è≠Ô∏è SKIPPED (–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–æ–±–µ–ª)

| –¢–µ—Å—Ç | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|------|-----------|--------|------------|
| `testIncludeUnsupportedRelationshipReturns400` | H1 | ‚úÖ PASSING | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 |
| `testIncludeInvalidPathReturns400` | H2 | ‚úÖ PASSING | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 |
| `testSortUnsupportedFieldReturns400` | H3 | ‚úÖ PASSING | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 |
| `testUnknownQueryParameterReturns400` | H4 | ‚è≠Ô∏è SKIPPED | –ò–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–æ–±–µ–ª - —Å–º. failures.json ID:H4 |

**–ö–∞—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤**:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—é—Ç HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥ (400)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—é—Ç Content-Type header (application/vnd.api+json)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ ("errors" array)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—é—Ç —Ç–∏–ø –ø–æ–ª—è "status" (string "400", –Ω–µ integer)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—é—Ç –Ω–∞–ª–∏—á–∏–µ "title" –∏–ª–∏ "detail"
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—é—Ç "source.parameter" —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä

---

#### ‚úÖ **Error Objects (I1-I3)** - `ErrorResponseStructureTest.php`

**–°–æ–∑–¥–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤**: 3  
**–°—Ç–∞—Ç—É—Å**: 0 ‚úÖ PASSING, 2 ‚ùå ERRORS, 1 ‚è≠Ô∏è SKIPPED

| –¢–µ—Å—Ç | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|------|-----------|--------|------------|
| `testErrorResponseContainsErrorsArray` | I1 | ‚ùå ERROR | –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ Response |
| `testErrorStatusFieldIsString` | I2 | ‚ùå ERROR | –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è relationships |
| `testErrorLinksIncludeAboutOrType` | I3 | ‚è≠Ô∏è SKIPPED | –ò–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–æ–±–µ–ª - —Å–º. failures.json ID:I3 |

**–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:
1. `ResourceController` –±—Ä–æ—Å–∞–µ—Ç `NotFoundHttpException` –≤–º–µ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ JSON:API error response
2. –¢–µ—Å—Ç—ã —Ç—Ä–µ–±—É—é—Ç –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–≤–∫–ª—é—á–∞—è relationship routes)
3. –ù—É–∂–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è Symfony exceptions –≤ JSON:API error responses

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**:
- –î–æ–±–∞–≤–∏—Ç—å EventSubscriber –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ JSON:API —Ñ–æ—Ä–º–∞—Ç
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è relationships –≤ —Ç–µ—Å—Ç–∞—Ö
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ "status" –≤—Å–µ–≥–¥–∞ string, –∞ –Ω–µ integer

---

#### ‚úÖ **Write Operations (D5)** - `CreateResourceControllerTest.php`

**–î–æ–±–∞–≤–ª–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤**: 1  
**–°—Ç–∞—Ç—É—Å**: ‚è≠Ô∏è SKIPPED (—Ç—Ä–µ–±—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)

| –¢–µ—Å—Ç | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|------|-----------|--------|------------|
| `testCreateWithDuplicateClientGeneratedIdReturns409` | D5 | ‚è≠Ô∏è SKIPPED | –¢—Ä–µ–±—É–µ—Ç allowClientGeneratedIds=true |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –¢–µ—Å—Ç –≥–æ—Ç–æ–≤, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –≤–∫–ª—é—á–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ client-generated IDs –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

---

#### ‚úÖ **Update Operations (E4)** - `UpdateResourceControllerTest.php`

**–î–æ–±–∞–≤–ª–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤**: 1  
**–°—Ç–∞—Ç—É—Å**: –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

| –¢–µ—Å—Ç | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|------|-----------|--------|------------|
| `testPatchWithMissingRelatedResourceReturns404` | E4 | ‚ö†Ô∏è INCOMPLETE | –ë–∞–Ω–¥–ª –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 422 –≤–º–µ—Å—Ç–æ 404 (–Ω–∞—Ä—É—à–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏) |

**–í—ã—è–≤–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ PATCH —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º related resource –±–∞–Ω–¥–ª –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 422 (Unprocessable Entity), –Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç 404 (Not Found).

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### **–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**

1. `tests/Integration/Http/Controller/ContentNegotiationIntegrationTest.php` (5 —Ç–µ—Å—Ç–æ–≤)
2. `tests/Integration/Http/Controller/QueryParameterValidationTest.php` (4 —Ç–µ—Å—Ç–∞)
3. `tests/Integration/Http/Controller/ErrorResponseStructureTest.php` (3 —Ç–µ—Å—Ç–∞)
4. –û–±–Ω–æ–≤–ª—ë–Ω `tests/Integration/Http/Controller/CreateResourceControllerTest.php` (+1 —Ç–µ—Å—Ç)
5. –û–±–Ω–æ–≤–ª—ë–Ω `tests/Integration/Http/Controller/UpdateResourceControllerTest.php` (+1 —Ç–µ—Å—Ç)

**–í—Å–µ–≥–æ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤**: 14

---

### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—É—Å–∫–∞**

```
Tests: 12, Assertions: 7, Errors: 2, Failures: 3, Skipped: 4
```

**–†–∞–∑–±–∏–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º**:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | Passing | Failing | Skipped | Errors | –ò—Ç–æ–≥–æ |
|-----------|---------|---------|---------|--------|-------|
| Content Negotiation | 0 | 3 | 2 | 0 | 5 |
| Query Parameters | 3 | 0 | 1 | 0 | 4 |
| Error Objects | 0 | 0 | 1 | 2 | 3 |

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å**: 3/12 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç (25%), –Ω–æ —ç—Ç–æ **–æ–∂–∏–¥–∞–µ–º–æ** –¥–ª—è TDD-–ø–æ–¥—Ö–æ–¥–∞.

---

## üéØ –¶–µ–Ω–Ω–æ—Å—Ç—å TDD-–ø–æ–¥—Ö–æ–¥–∞

### **–ß—Ç–æ –º—ã –ø–æ–ª—É—á–∏–ª–∏**:

1. ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** - –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∂—ë—Å—Ç–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. ‚úÖ **–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã** - —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
3. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π** - –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç = –∂–∏–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
4. ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π** - –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –∑–∞—â–∏—â–∞—Ç—å –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ—à–∏–±–æ–∫

### **–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**:

1. **Content Negotiation**: –ù–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ–¥–∏–∞-—Ç–∏–ø–∞ (charset, version)
2. **Error Handling**: –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –±—Ä–æ—Å–∞—é—Ç Symfony exceptions –≤–º–µ—Å—Ç–æ JSON:API responses
3. **HTTP Semantics**: Vary header –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π
4. **Update Operations**: 422 –≤–º–µ—Å—Ç–æ 404 –ø—Ä–∏ PATCH —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º related resource

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### **–§–∞–∑–∞ 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å EventSubscriber –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è Symfony exceptions –≤ JSON:API error responses
2. ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ "status" –≤ error objects –≤—Å–µ–≥–¥–∞ string
3. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å E4: –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 404 –≤–º–µ—Å—Ç–æ 422 –ø—Ä–∏ PATCH —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º related resource

### **–§–∞–∑–∞ 2: Content Negotiation** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)

1. ‚è≠Ô∏è –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Content-Type (A1)
2. ‚è≠Ô∏è –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Accept (A3)
3. ‚è≠Ô∏è –î–æ–±–∞–≤–∏—Ç—å Vary header –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π (A5)

### **–§–∞–∑–∞ 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô)

1. ‚è≠Ô∏è –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É ext –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (A2, A4)
2. ‚è≠Ô∏è –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (H4)
3. ‚è≠Ô∏è –î–æ–±–∞–≤–∏—Ç—å links.about –∏–ª–∏ links.type –≤ error objects (I3)

---

## üîç –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### **–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã**:
```bash
docker compose -f docker-compose.test.yml exec -T php vendor/bin/phpunit \
  tests/Integration/Http/Controller/QueryParameterValidationTest.php \
  tests/Integration/Http/Controller/ErrorResponseStructureTest.php \
  tests/Integration/Http/Controller/ContentNegotiationIntegrationTest.php \
  --colors=never --testdox
```

### **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ö–æ–¥—è—â–∏–µ —Ç–µ—Å—Ç—ã**:
```bash
docker compose -f docker-compose.test.yml exec -T php vendor/bin/phpunit \
  tests/Integration/Http/Controller/QueryParameterValidationTest.php \
  --colors=never --testdox
```

### **–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**:
```bash
docker compose -f docker-compose.test.yml exec -T php vendor/bin/phpunit \
  tests/Integration/ \
  --colors=never
```

---

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**TDD-–ø–æ–¥—Ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω—ë–Ω**: –°–æ–∑–¥–∞–Ω—ã –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ:

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—é—Ç **–∂—ë—Å—Ç–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ JSON:API 1.1
2. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç **—Ä–µ–∞–ª—å–Ω—ã–µ** —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–Ω–¥–ª–∞ (PostgreSQL, Doctrine, Symfony)
3. ‚úÖ **–í—ã—è–≤–ª—è—é—Ç –ø—Ä–æ–±–µ–ª—ã** –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
4. ‚úÖ –°–ª—É–∂–∞—Ç **–∂–∏–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π** —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
5. ‚úÖ –ì–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: 3/12 –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç (25%), —á—Ç–æ **–Ω–æ—Ä–º–∞–ª—å–Ω–æ** –¥–ª—è TDD - —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –§–∞–∑—ã 1 (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º), —á—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–æ—Ö–æ–¥—è—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –¥–æ 75%+.

